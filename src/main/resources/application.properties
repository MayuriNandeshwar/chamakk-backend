# ===============================
# Application
# ===============================
spring.application.name=chamakk-backend

# ===============================
# Datasource
# ===============================
spring.datasource.url=jdbc:postgresql://localhost:5433/chamakk_db
spring.datasource.username=postgres
spring.datasource.password=postgres

# ===============================
# JPA (STRICT MODE)
# ===============================
spring.jpa.hibernate.ddl-auto=validate
spring.jpa.show-sql=false
spring.jpa.open-in-view=false
spring.jpa.properties.hibernate.format_sql=true

# DO NOT set dialect explicitly (Hibernate 6 auto-detects)
# spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect

# ===============================
# Flyway (SINGLE SOURCE OF TRUTH)
# ===============================
logging.level.org.flywaydb=DEBUG
spring.flyway.enabled=true
spring.flyway.locations=classpath:db/migration
spring.flyway.baseline-on-migrate=true
spring.flyway.baseline-version=1
spring.flyway.validate-on-migrate=true



# ===============================
# JWT Configuration
# ===============================
security.jwt.secret=xNWLfSeVpZZJXv9RCB1tSPC4W9ZJr1SwegHEbSdA+B5JJ3R9AvzmGKR62rU1HVD+dFvaNIQsbNUQ0aYFw==
security.jwt.access-token-expiry=1800
security.jwt.issuer=chamakk-auth

# ===============================
# Jackson / Timezone
# ===============================
spring.jackson.time-zone=UTC

# ===============================
# Server
# ===============================
server.servlet.session.tracking-modes=cookie

# ======================================================
# CACHE + REDIS (BESTSELLER API)
# ======================================================

# Enable Redis as cache provider
spring.cache.type=redis

# Redis connection
spring.redis.host=localhost
spring.redis.port=6379

# Optional (enable only if Redis has auth)
# spring.redis.password=your_password

# Cache TTL (10 minutes)
spring.cache.redis.time-to-live=1800000
spring.cache.redis.cache-null-values=false

# Cache debug logs (disable in prod if noisy)
logging.level.org.springframework.cache=TRACE


